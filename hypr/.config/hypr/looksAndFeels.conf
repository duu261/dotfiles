# Refer to https://wiki.hyprland.org/Configuring/Variables/

# https://wiki.hyprland.org/Configuring/Variables/#general
# general {
#     gaps_in = 6
#     gaps_out = 14
#
#     border_size = 3
#
#     # https://wiki.hyprland.org/Configuring/Variables/#variable-types for info about colors
#     col.active_border = rgba($redAlphaee) rgba($maroonAlphaee) 45deg
#     col.inactive_border = rgba($surface0Alphaee) rgba($surface2Alphaee) 45deg
#     resize_on_border = true
#
#     # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
#     allow_tearing = false
#
#     layout = dwindle
# }
general {
    layout = dwindle

    allow_tearing = false  # Allows `immediate` window rule to work

    gaps_workspaces = 20
    gaps_in = 10
    gaps_out = 40
    border_size = 3

    col.active_border = rgba($redAlphaee) rgba($maroonAlphaee) 45deg
    col.inactive_border = rgba($surface0Alphaee) rgba($surface2Alphaee) 45deg
    resize_on_border = true
}

dwindle {
	preserve_split = true
	smart_split = false
	smart_resizing = true
}
# https://wiki.hyprland.org/Configuring/Variables/#decoration
# decoration {
#     rounding = 0
#
#     # Change transparency of focused and unfocused windows
#     active_opacity = 0.96
#     inactive_opacity = 0.9
#
#     shadow {
#         enabled = true
#         range = 25
#         render_power = 3
#         color = rgba($crustAlphaee)
#     }
#
#     # https://wiki.hyprland.org/Configuring/Variables/#blur
#     blur {
#         enabled = true
#         size = 4
#         passes = 2
#         new_optimizations = true
#         xray = true
#         ignore_opacity = true
#
#         vibrancy = 0.1696
#     }
# }
decoration {
    rounding = 10

    blur {
        enabled = true
        xray = false
        special = false
        ignore_opacity = true  # Allows opacity blurring
        new_optimizations = true
        popups = true
        input_methods = true
        size = 8
        passes = 2
    }

    shadow {
        enabled = true
        range = 20
        render_power = 3
        color = rgba($crustAlphaee)
    }
}

# https://wiki.hyprland.org/Configuring/Variables/#animations
# animations {
#     enabled = true
#     bezier = wind, 0.05, 0.9, 0.1, 1.05
#     bezier = winIn, 0.1, 1.1, 0.1, 1.1
#     bezier = winOut, 0.3, -0.3, 0, 1
#     bezier = liner, 1, 1, 1, 1
#     animation = windows, 1, 6, wind, slide
#     animation = windowsIn, 1, 6, winIn, slide
#     animation = windowsOut, 1, 5, winOut, slide
#     animation = windowsMove, 1, 5, wind, slide
#     animation = border, 1, 1, liner
#     animation = borderangle, 1, 30, liner, loop
#     animation = fade, 1, 10, default
#     animation = workspaces, 1, 5, wind
# }
animations {
    enabled = true

    # Animation curves
    bezier = specialWorkSwitch, 0.05, 0.7, 0.1, 1
    bezier = emphasizedAccel, 0.3, 0, 0.8, 0.15
    bezier = emphasizedDecel, 0.05, 0.7, 0.1, 1
    bezier = standard, 0.2, 0, 0, 1

    # Animation configs
    animation = layersIn, 1, 5, emphasizedDecel, slide
    animation = layersOut, 1, 4, emphasizedAccel, slide
    animation = fadeLayers, 1, 5, standard

    animation = windowsIn, 1, 5, emphasizedDecel
    animation = windowsOut, 1, 3, emphasizedAccel
    animation = windowsMove, 1, 6, standard
    animation = workspaces, 1, 5, standard

    animation = specialWorkspace, 1, 4, specialWorkSwitch, slidefadevert 15%

    animation = fade, 1, 6, standard
    animation = fadeDim, 1, 6, standard
    animation = border, 1, 6, standard
}
# Ref https://wiki.hyprland.org/Configuring/Workspace-Rules/
# "Smart gaps" / "No gaps when only"
# uncomment all if you wish to use that.
# workspace = w[tv1], gapsout:0, gapsin:0
# workspace = f[1], gapsout:0, gapsin:0
# windowrulev2 = bordersize 0, floating:0, onworkspace:w[tv1]
# windowrulev2 = rounding 0, floating:0, onworkspace:w[tv1]
# windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
# windowrulev2 = rounding 0, floating:0, onworkspace:f[1]

# See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
dwindle {
    pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = true # You probably want this
}

# See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
master {
    new_status = master
}

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc {
    vfr = true
    vrr = 1

    animate_manual_resizes = false
    animate_mouse_windowdragging = false

    disable_hyprland_logo = true
    force_default_wallpaper = 0

    new_window_takes_over_fullscreen = 2
    allow_session_lock_restore = true
    middle_click_paste = false
    focus_on_activate = true
    session_lock_xray = true

    mouse_move_enables_dpms = true
    key_press_enables_dpms = true

	background_color = $crust
}

debug {
    error_position = 1
}
group {
    col.border_active = rgba($redAlphaee) rgba($maroonAlphaee) 45deg
    col.border_inactive = rgba($surface0Alphaee) rgba($surface2Alphaee) 45deg
    col.border_locked_active = rgba($redAlphaee) rgba($maroonAlphaee) 45deg
    col.border_locked_inactive = rgba($surface0Alphaee) rgba($surface2Alphaee) 45deg

    groupbar {
        font_family = FiraCode Code Nerd Font Propo
        font_size = 15
        gradients = true
        gradient_round_only_edges = false
        gradient_rounding = 5
        height = 25
        indicator_height = 0
        gaps_in = 3
        gaps_out = 3

        text_color = $text
        col.active = rgba($redAlphaee)
        col.inactive = rgba($surface0Alphaee)
        col.locked_active = rgba($maroonAlphaee)
        col.locked_inactive = rgba($surface2Alphaee)
    }
}
